<common-page-header></common-page-header>

<wizard-page>

    <wizard-header ng-if="!dataModel.isAddExtVolume" ng-title="'virtualize-volumes' | translate " icon-class="icon-virtualize-volume"></wizard-header>
    <wizard-header ng-if="dataModel.isAddExtVolume" ng-title="'common-external-volumes-add' | translate " icon-class="icon-external-volume"></wizard-header>

    <wizard-body>
        <wizard-advanced-stepper>
            <wizard-advanced-stepper-button ng-title="'workflow-title-create-path-from-source' | translate"
                                            ng-if="!dataModel.isAddExtVolume"
                                            step-completed="dataModel.isStepCompleted('selectSourcePort')"
                                            step-active="dataModel.isStepActive('selectSourcePort')">
            </wizard-advanced-stepper-button>

            <wizard-advanced-stepper-button ng-title="'workflow-title-select-ports' | translate"
                                            ng-if="dataModel.isAddExtVolume"
                                            step-completed="dataModel.isStepCompleted('selectPorts')"
                                            step-active="dataModel.isStepActive('selectPorts')">
            </wizard-advanced-stepper-button>

            <wizard-advanced-stepper-button ng-title="'workflow-title-select-discovered-volumes' | translate"
                                            step-completed="dataModel.isStepCompleted('selectDiscoveredVolumes')"
                                            step-active="dataModel.isStepActive('selectDiscoveredVolumes')">
            </wizard-advanced-stepper-button>

            <wizard-advanced-stepper-button ng-title="'workflow-title-select-server' | translate"
                                            step-completed="dataModel.isStepCompleted('selectServer')"
                                            step-active="dataModel.isStepActive('selectServer')">
            </wizard-advanced-stepper-button>

            <wizard-advanced-stepper-button ng-title="'workflow-title-edit-lun-paths' | translate"
                                            step-completed="dataModel.isStepCompleted('paths')"
                                            step-active="dataModel.isStepActive('paths')">
            </wizard-advanced-stepper-button>
        </wizard-advanced-stepper>

        <wizard-left-right-content class="virtualize-volume-wizard" ng-if="dataModel.isStepActive('selectSourcePort') && !dataModel.isAddExtVolume"
                                   ng-title="'workflow-title-create-path-from-source' | translate"
                                   left-panel-template="views/workflow-templates/select-virtualize-volumes-left-panel.html"
                                   right-panel-template="views/workflow-templates/select-virtualize-volumes-right-panel.html"
                                   ng-model="dataModel"
                                   page-name="create-and-attach-volumes">
        </wizard-left-right-content>

        <wizard-left-right-content class="virtualize-volume-wizard" ng-if="dataModel.isStepActive('selectPorts') && dataModel.isAddExtVolume"
                                   ng-title="'workflow-title-select-ports' | translate"
                                   left-panel-template="views/workflow-templates/select-virtualize-volumes-left-panel.html"
                                   right-panel-template="views/workflow-templates/select-virtualize-volumes-right-panel.html"
                                   ng-model="dataModel"
                                   page-name="create-and-attach-volumes">
        </wizard-left-right-content>

        <wizard-left-right-content class="virtualize-volume-wizard" ng-if="dataModel.isStepActive('selectDiscoveredVolumes')"
                                   ng-title="'workflow-title-select-discovered-volumes' | translate"
                                   left-panel-template="views/workflow-templates/select-discovered-volumes-left-panel.html"
                                   right-panel-template="views/workflow-templates/select-discovered-volumes-right-panel.html"
                                   ng-model="dataModel"
                                   filter-model="getVolumeFilterModel"
                                   page-name="create-and-attach-volumes">
        </wizard-left-right-content>

        <wizard-left-right-content class="virtualize-volume-wizard" ng-if="dataModel.isStepActive('selectServer')"
                                   ng-title="'workflow-title-select-server' | translate"
                                   left-panel-template="views/workflow-templates/select-server-left-panel.html"
                                   right-panel-template="views/workflow-templates/select-server-right-panel.html"
                                   ng-model="dataModel"
                                   filter-model="filterModel"
                                   page-name="create-and-attach-volumes">
        </wizard-left-right-content>

        <wizard-left-right-content class="virtualize-volume-wizard" ng-if="dataModel.isStepActive('paths')"
                                   ng-title="'workflow-title-create-paths' | translate"
                                   left-panel-template="views/workflow-templates/select-path-left-panel.html"
                                   right-panel-template="views/workflow-templates/select-path-right-panel.html"
                                   ng-model="dataModel"
                                   filter-model="filterModel"
                                   page-name="create-and-attach-volumes">
        </wizard-left-right-content>

    </wizard-body>

    <wizard-footer ng-if="dataModel.isStepActive('selectSourcePort') && !dataModel.isAddExtVolume"
                   ng-model="dataModel.selectModel">
    </wizard-footer>

    <wizard-footer ng-if="dataModel.isStepActive('selectPorts') && dataModel.isAddExtVolume"
                   ng-model="dataModel.selectPortModel">
    </wizard-footer>

    <wizard-footer ng-if="dataModel.isStepActive('selectDiscoveredVolumes')"
                   ng-model="dataModel.volumeDataModel">
    </wizard-footer>

    <wizard-footer ng-if="dataModel.isStepActive('selectServer')"
                   ng-model="dataModel.serverModel">
    </wizard-footer>

    <wizard-footer ng-if="dataModel.isStepActive('paths')"
                   ng-model="dataModel.createPathModel">
    </wizard-footer>

</wizard-page>